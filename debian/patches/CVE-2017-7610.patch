From fb6709f1a41b58a9557ea45b7f53ae678c660b21 Mon Sep 17 00:00:00 2001
From: Mark Wielaard <mark@klomp.org>
Date: Tue, 28 Mar 2017 13:33:03 +0200
Subject: [PATCH] elflint: Don't check section group without flags word.

https://sourceware.org/bugzilla/show_bug.cgi?id=21320

Signed-off-by: Mark Wielaard <mark@klomp.org>

Index: elfutils-0.166/src/elflint.c
===================================================================
--- elfutils-0.166.orig/src/elflint.c
+++ elfutils-0.166/src/elflint.c
@@ -2659,9 +2659,12 @@ section [%2d] '%s': section size not mul
 	       idx, section_name (ebl, idx));
 
       if (data->d_size < elsize)
-	ERROR (gettext ("\
+	{
+	  ERROR (gettext ("\
 section [%2d] '%s': section group without flags word\n"),
 	       idx, section_name (ebl, idx));
+	  return;
+	}
       else if (be_strict)
 	{
 	  if (data->d_size < 2 * elsize)
